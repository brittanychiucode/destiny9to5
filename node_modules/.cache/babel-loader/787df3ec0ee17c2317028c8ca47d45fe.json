{"ast":null,"code":"var localStorage = window.localStorage;\nexport function set(key, value) {\n  value = JSON.stringify(value);\n\n  try {\n    localStorage.setItem(key, value);\n  } catch (e) {\n    console.log(e);\n  }\n}\nexport function del(key) {\n  try {\n    localStorage.removeItem(key);\n  } catch (e) {\n    console.log(e);\n  }\n}\nexport function get(key) {\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch (e) {\n    console.log(e);\n  }\n}\nexport function update(key, value, unique, limit) {\n  var json = null;\n\n  try {\n    json = localStorage.getItem(key);\n  } catch (e) {\n    console.log(e);\n  }\n\n  if (!json) {\n    //console.log([value], value, \"setting new\");\n    set(key, [value]);\n  } else {\n    let parsed = JSON.parse(json);\n\n    if (unique) {\n      var index = parsed.findIndex(obj => obj.membershipId === value.membershipId);\n\n      if (index > -1) {\n        parsed.splice(index, 1);\n      }\n\n      if (!limit) {\n        limit = parsed.length + 1;\n      }\n\n      parsed = [value, ...parsed.slice(0, limit)];\n    } else {\n      if (!limit) {\n        limit = parsed.length + 1;\n      }\n\n      parsed = [value, ...parsed.slice(0, limit)];\n    } // console.log(json, parsed, \"updating\");\n\n\n    set(key, parsed);\n  }\n}","map":{"version":3,"sources":["D:/CodeProjects/github/destiny9to5/destiny9to5/src/utils/localStorage.js"],"names":["localStorage","window","set","key","value","JSON","stringify","setItem","e","console","log","del","removeItem","get","parse","getItem","update","unique","limit","json","parsed","index","findIndex","obj","membershipId","splice","length","slice"],"mappings":"AAAA,IAAIA,YAAY,GAAGC,MAAM,CAACD,YAA1B;AAEA,OAAO,SAASE,GAAT,CAAaC,GAAb,EAAkBC,KAAlB,EAAyB;AAC9BA,EAAAA,KAAK,GAAGC,IAAI,CAACC,SAAL,CAAeF,KAAf,CAAR;;AAEA,MAAI;AACFJ,IAAAA,YAAY,CAACO,OAAb,CAAqBJ,GAArB,EAA0BC,KAA1B;AACD,GAFD,CAEE,OAAOI,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACD;AACF;AAED,OAAO,SAASG,GAAT,CAAaR,GAAb,EAAkB;AACvB,MAAI;AACFH,IAAAA,YAAY,CAACY,UAAb,CAAwBT,GAAxB;AACD,GAFD,CAEE,OAAOK,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACD;AACF;AAED,OAAO,SAASK,GAAT,CAAaV,GAAb,EAAkB;AACvB,MAAI;AACF,WAAOE,IAAI,CAACS,KAAL,CAAWd,YAAY,CAACe,OAAb,CAAqBZ,GAArB,CAAX,CAAP;AACD,GAFD,CAEE,OAAOK,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACD;AACF;AAED,OAAO,SAASQ,MAAT,CAAgBb,GAAhB,EAAqBC,KAArB,EAA4Ba,MAA5B,EAAoCC,KAApC,EAA2C;AAChD,MAAIC,IAAI,GAAG,IAAX;;AAEA,MAAI;AACFA,IAAAA,IAAI,GAAGnB,YAAY,CAACe,OAAb,CAAqBZ,GAArB,CAAP;AACD,GAFD,CAEE,OAAOK,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACD;;AAED,MAAI,CAACW,IAAL,EAAW;AACT;AACAjB,IAAAA,GAAG,CAACC,GAAD,EAAM,CAACC,KAAD,CAAN,CAAH;AACD,GAHD,MAGO;AACL,QAAIgB,MAAM,GAAGf,IAAI,CAACS,KAAL,CAAWK,IAAX,CAAb;;AACA,QAAIF,MAAJ,EAAY;AACV,UAAII,KAAK,GAAGD,MAAM,CAACE,SAAP,CAAiBC,GAAG,IAAIA,GAAG,CAACC,YAAJ,KAAqBpB,KAAK,CAACoB,YAAnD,CAAZ;;AACA,UAAIH,KAAK,GAAG,CAAC,CAAb,EAAgB;AACdD,QAAAA,MAAM,CAACK,MAAP,CAAcJ,KAAd,EAAqB,CAArB;AACD;;AAED,UAAI,CAACH,KAAL,EAAY;AACVA,QAAAA,KAAK,GAAGE,MAAM,CAACM,MAAP,GAAgB,CAAxB;AACD;;AAEDN,MAAAA,MAAM,GAAG,CAAChB,KAAD,EAAQ,GAAGgB,MAAM,CAACO,KAAP,CAAa,CAAb,EAAgBT,KAAhB,CAAX,CAAT;AACD,KAXD,MAWO;AACL,UAAI,CAACA,KAAL,EAAY;AACVA,QAAAA,KAAK,GAAGE,MAAM,CAACM,MAAP,GAAgB,CAAxB;AACD;;AAEDN,MAAAA,MAAM,GAAG,CAAChB,KAAD,EAAQ,GAAGgB,MAAM,CAACO,KAAP,CAAa,CAAb,EAAgBT,KAAhB,CAAX,CAAT;AACD,KAnBI,CAoBL;;;AACAhB,IAAAA,GAAG,CAACC,GAAD,EAAMiB,MAAN,CAAH;AACD;AACF","sourcesContent":["var localStorage = window.localStorage;\r\n\r\nexport function set(key, value) {\r\n  value = JSON.stringify(value);\r\n\r\n  try {\r\n    localStorage.setItem(key, value);\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nexport function del(key) {\r\n  try {\r\n    localStorage.removeItem(key);\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nexport function get(key) {\r\n  try {\r\n    return JSON.parse(localStorage.getItem(key));\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nexport function update(key, value, unique, limit) {\r\n  var json = null;\r\n\r\n  try {\r\n    json = localStorage.getItem(key);\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n\r\n  if (!json) {\r\n    //console.log([value], value, \"setting new\");\r\n    set(key, [value]);\r\n  } else {\r\n    let parsed = JSON.parse(json);\r\n    if (unique) {\r\n      var index = parsed.findIndex(obj => obj.membershipId === value.membershipId);\r\n      if (index > -1) {\r\n        parsed.splice(index, 1);\r\n      }\r\n\r\n      if (!limit) {\r\n        limit = parsed.length + 1;\r\n      }\r\n\r\n      parsed = [value, ...parsed.slice(0, limit)];\r\n    } else {\r\n      if (!limit) {\r\n        limit = parsed.length + 1;\r\n      }\r\n\r\n      parsed = [value, ...parsed.slice(0, limit)];\r\n    }\r\n    // console.log(json, parsed, \"updating\");\r\n    set(key, parsed);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}